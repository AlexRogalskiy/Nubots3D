States:
1 1 0 q

0 0 0 B
1 0 0 0
2 0 0 0
3 0 0 1
4 0 0 1
5 0 0 0
6 0 0 B

Bonds:
1 1 0 1 0 0 rigid
0 0 1 0 rigid
1 0 2 0 rigid
2 0 3 0 rigid
3 0 4 0 rigid
4 0 5 0 rigid
5 0 6 0 rigid

Rules:
[{q,0}->{q,0,1}]
0 q rigid (0,1,0) 0 q.r rigid (0,1,0) [change state to 0]
0 q.r null (-1,1,0) 0 q.r' rigid (-1,1,0) [bond to right]
1 q.r null (-1,1,0) 1 q.r' rigid (-1,1,0) [bond to right]
0 q.r' rigid (0,1,0) 0 q null (0,1,0) [release from current]
0 q rigid (-1,1,0) 0 q rigid (0,1,0) [move to right]
1 q rigid (-1,1,0) 1 q rigid (0,1,0) [move to right]

[{q,1}->{q,0,1}]
1 q rigid (0,1,0) 0 q.r rigid (0,1,0) [change state to 0]
